{% extends 'base.html' %}

{% block registertactive %}active{% endblock %}

{% load static %}

{% block css %}
<link rel="stylesheet" href="{% static 'auth/css/register.css' %}?{% now 'U' %}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="register-container">
        <h1 class="main-heading">Register</h1>
        <form id="registerForm" method="POST" enctype="multipart/form-data" action="{% url 'register' %}" novalidate>
            {% csrf_token %}
            <div class="input-group">
                <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
                {{ form.first_name }}
                {% if form.first_name.errors %}
                    <div class="error" role="alert">{{ form.first_name.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
                {{ form.last_name }}
                {% if form.last_name.errors %}
                    <div class="error" role="alert">{{ form.last_name.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
                {{ form.username }}
                {% if form.username.errors %}
                    <div class="error" role="alert">{{ form.username.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <div class="error" role="alert">{{ form.email.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.image.id_for_label }}">{{ form.image.label }}</label>
                {{ form.image }}
                {% if form.image.errors %}
                    <div class="error" role="alert">{{ form.image.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.birth_date.id_for_label }}">{{ form.birth_date.label }}</label>
                {{ form.birth_date }}
                {% if form.birth_date.errors %}
                    <div class="error" role="alert">{{ form.birth_date.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.bio.id_for_label }}">{{ form.bio.label }}</label>
                {{ form.bio }}
                {% if form.bio.errors %}
                    <div class="error" role="alert">{{ form.bio.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
                {{ form.password1 }}
                {% if form.password1.errors %}
                    <div class="error" role="alert">{{ form.password1.errors }}</div>
                {% endif %}
            </div>
            <div class="input-group">
                <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
                {{ form.password2 }}
                {% if form.password2.errors %}
                    <div class="error" role="alert">{{ form.password2.errors }}</div>
                {% endif %}
            </div>
            <button type="submit" class="btn-register">Register</button>
        </form>
        <div class="extra-links">
            <a href="{% url 'login' %}">Already have an account? Login</a>
        </div>
    </div>
</div>

<script>
document.getElementById('registerForm').addEventListener('submit', function(event) {
    var password1 = document.getElementById('{{ form.password1.id_for_label }}').value;
    var password2 = document.getElementById('{{ form.password2.id_for_label }}').value;

    if (password1 !== password2) {
        event.preventDefault();
        alert('Passwords do not match!');
    }
});
</script>
{% endblock %}